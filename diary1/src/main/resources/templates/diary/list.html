<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" 
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
				layout:decorate="~{fragments/layout}"
				xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
><!-- layout:decorate="~{fragments/layout}"  fragments폴더안에 layout 렌더링 -->
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
	<div layout:fragment="content" class="container   my-5">
		<h3>DIARY</h3>
		<table
			class="table table-striped  table-bordered table-hover text-center">
			<caption>DIARY-LIST</caption>
			<thead>
				<tr>
					<th scope="col">NO</th>
					<th scope="col">TITLE</th>
					<th scope="col">WRITER</th>
					<th scope="col">DATE</th>
				</tr>
			</thead>
			<tbody>
				<tr th:each=" dto , state : ${list} ">
					<td th:text="${list.size() - state.index}"></td>
					<td><a th:href="@{|/diary/detail/${dto.id}|}" th:text="${dto.diary_title}"></a></td>
					<td th:text="${dto.user != null ? dto.user.username : '알 수 없음'}"></td>
					<td th:text="${ #temporals.format(dto.create_date , 'yyyy-MM-dd HH:mm') }"></td>
				</tr>
			</tbody>
		</table>
		<p class="text-end">
			<a th:href="@{/diary/insert}" class="btn btn-primary">글쓰기</a>
		</p>
	</div>
</body>
</html>