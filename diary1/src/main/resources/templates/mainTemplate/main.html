<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" 
				xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
				layout:decorate="~{fragments/layout}">
				
<th:block layout:fragment="content">
		<div th:if="${msg}" class="alert alert-success" id="alert">
		    <span th:text="${msg}"></span>
		    <button id="close-alert" class="btn btn-primary">확인</button>
		</div>
		<script>
		    document.getElementById("close-alert")?.addEventListener("click", function() {
		        var alert = document.getElementById("alert");
		        if (alert) {
		            alert.style.display = "none"; // 알림창 숨기기
		        }
		    });
		</script>
		<div class="container-fluid p-3"
			style="border-bottom: 1px solid #9d9d9d;">
			<!-- 프로필영역 -->
			<div class="d-flex bd-highlight mb-3">
				<div>
					<img src="https://placehold.co/80x80" alt=""
						class="rounded-circle p-2 bd-highlight" style="margin-right: 5px;">
				</div>
				<div class="container p-2 bd-highlight  align-self-center"
					style="width: 100%;">
					<ul class="list-unstyled">
						<li><a href="#"
							class="link-underline link-underline-opacity-0"
							style="color: #000000; font-weight: bold; font-size: 20px;">NAME</a></li>
						<li style="font-size: 16px; color: #9d9d9d;">소속(친구or그룹명)</li>
					</ul>
				</div>
				<div class="ms-auto p-2 bd-highlight align-self-center"
					style="width: 100%; text-align: end;">imoji</div>
			</div>
			<!-- 프로필영역 -->
			<div class="container-fluid p-3" style="border: 0px solid gray;">
			<table class="table table-striped  table-bordered table-hover text-center">
			<caption>DIARY-LIST</caption>
			<thead></thead>
			    <tbody>
			        <tr th:if="${#lists.isEmpty(list)}">
			            <td colspan="4">등록된 일기가 없습니다.</td>
			        </tr>
			        <tr th:each="dto, state : ${list}">
			            <td><a th:href="@{|/mainTemplate/detail/${dto.id}|}" th:text="${dto.diary_title}"></a></td>
			            <td th:text="${dto.diary_emoji}"></td>
			            <td th:text="${dto.user != null ? dto.user.username : '알 수 없음'}"></td>
			            <td th:text="${#temporals.format(dto.create_date, 'yyyy-MM-dd HH:mm')}"></td>
			        </tr>
			    </tbody>
			</table>
			</div>
		</div>
		
</th:block>
				

</html>